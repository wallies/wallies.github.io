function AnchorJS(t){"use strict";function e(t){t.icon=t.hasOwnProperty("icon")?t.icon:"",t.visible=t.hasOwnProperty("visible")?t.visible:"hover",t.placement=t.hasOwnProperty("placement")?t.placement:"right",t["class"]=t.hasOwnProperty("class")?t["class"]:"",t.truncate=t.hasOwnProperty("truncate")?Math.floor(t.truncate):64}function i(t){var e;if("string"==typeof t||t instanceof String)e=[].slice.call(document.querySelectorAll(t));else{if(!(Array.isArray(t)||t instanceof NodeList))throw new Error("The selector provided to AnchorJS was invalid.");e=[].slice.call(t)}return e}function n(){if(null===document.head.querySelector("style.anchorjs")){var t,e=document.createElement("style"),i=" .anchorjs-link {   opacity: 0;   text-decoration: none;   -webkit-font-smoothing: antialiased;   -moz-osx-font-smoothing: grayscale; }",n=" *:hover > .anchorjs-link, .anchorjs-link:focus  {   opacity: 1; }",o=' @font-face {   font-family: "anchorjs-icons";   font-style: normal;   font-weight: normal;   src: url(data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBTUAAAC8AAAAYGNtYXAWi9QdAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5Zgq29TcAAAF4AAABNGhlYWQEZM3pAAACrAAAADZoaGVhBhUDxgAAAuQAAAAkaG10eASAADEAAAMIAAAAFGxvY2EAKACuAAADHAAAAAxtYXhwAAgAVwAAAygAAAAgbmFtZQ5yJ3cAAANIAAAB2nBvc3QAAwAAAAAFJAAAACAAAwJAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpywPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6cv//f//AAAAAAAg6cv//f//AAH/4xY5AAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAACADEARAJTAsAAKwBUAAABIiYnJjQ/AT4BMzIWFxYUDwEGIicmND8BNjQnLgEjIgYPAQYUFxYUBw4BIwciJicmND8BNjIXFhQPAQYUFx4BMzI2PwE2NCcmNDc2MhcWFA8BDgEjARQGDAUtLXoWOR8fORYtLTgKGwoKCjgaGg0gEhIgDXoaGgkJBQwHdR85Fi0tOAobCgoKOBoaDSASEiANehoaCQkKGwotLXoWOR8BMwUFLYEuehYXFxYugC44CQkKGwo4GkoaDQ0NDXoaShoKGwoFBe8XFi6ALjgJCQobCjgaShoNDQ0NehpKGgobCgoKLYEuehYXAAEAAAABAACiToc1Xw889QALBAAAAAAA0XnFFgAAAADRecUWAAAAAAJTAsAAAAAIAAIAAAAAAAAAAQAAA8D/wAAABAAAAAAAAlMAAQAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAACAAAAAoAAMQAAAAAACgAUAB4AmgABAAAABQBVAAIAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEADgAAAAEAAAAAAAIABwCfAAEAAAAAAAMADgBLAAEAAAAAAAQADgC0AAEAAAAAAAUACwAqAAEAAAAAAAYADgB1AAEAAAAAAAoAGgDeAAMAAQQJAAEAHAAOAAMAAQQJAAIADgCmAAMAAQQJAAMAHABZAAMAAQQJAAQAHADCAAMAAQQJAAUAFgA1AAMAAQQJAAYAHACDAAMAAQQJAAoANAD4YW5jaG9yanMtaWNvbnMAYQBuAGMAaABvAHIAagBzAC0AaQBjAG8AbgBzVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwYW5jaG9yanMtaWNvbnMAYQBuAGMAaABvAHIAagBzAC0AaQBjAG8AbgBzYW5jaG9yanMtaWNvbnMAYQBuAGMAaABvAHIAagBzAC0AaQBjAG8AbgBzUmVndWxhcgBSAGUAZwB1AGwAYQByYW5jaG9yanMtaWNvbnMAYQBuAGMAaABvAHIAagBzAC0AaQBjAG8AbgBzRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==) format("truetype"); }',A=" [data-anchorjs-icon]::after {   content: attr(data-anchorjs-icon); }";e.className="anchorjs",e.appendChild(document.createTextNode("")),t=document.head.querySelector('[rel="stylesheet"], style'),void 0===t?document.head.appendChild(e):document.head.insertBefore(e,t),e.sheet.insertRule(i,e.sheet.cssRules.length),e.sheet.insertRule(n,e.sheet.cssRules.length),e.sheet.insertRule(A,e.sheet.cssRules.length),e.sheet.insertRule(o,e.sheet.cssRules.length)}}this.options=t||{},this.elements=[],e(this.options),this.isTouchDevice=function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)},this.add=function(t){var o,A,a,s,r,l,h,c,d,u,g,p,f=[];if(e(this.options),p=this.options.visible,"touch"===p&&(p=this.isTouchDevice()?"always":"hover"),t||(t="h1, h2, h3, h4, h5, h6"),o=i(t),0===o.length)return!1;for(n(),A=document.querySelectorAll("[id]"),a=[].map.call(A,function(t){return t.id}),r=0;r<o.length;r++)if(this.hasAnchorJSLink(o[r]))f.push(r);else{if(o[r].hasAttribute("id"))s=o[r].getAttribute("id");else{c=this.urlify(o[r].textContent),d=c,h=0;do void 0!==l&&(d=c+"-"+h),l=a.indexOf(d),h+=1;while(-1!==l);l=void 0,a.push(d),o[r].setAttribute("id",d),s=d}u=s.replace(/-/g," "),g=document.createElement("a"),g.className="anchorjs-link "+this.options["class"],g.href="#"+s,g.setAttribute("aria-label","Anchor link for: "+u),g.setAttribute("data-anchorjs-icon",this.options.icon),"always"===p&&(g.style.opacity="1"),""===this.options.icon&&(g.style.fontFamily="anchorjs-icons",g.style.fontStyle="normal",g.style.fontVariant="normal",g.style.fontWeight="normal",g.style.lineHeight=1,"left"===this.options.placement&&(g.style.lineHeight="inherit")),"left"===this.options.placement?(g.style.position="absolute",g.style.marginLeft="-1em",g.style.paddingRight="0.5em",o[r].insertBefore(g,o[r].firstChild)):(g.style.paddingLeft="0.375em",o[r].appendChild(g))}for(r=0;r<f.length;r++)o.splice(f[r]-r,1);return this.elements=this.elements.concat(o),this},this.remove=function(t){for(var e,n,o=i(t),A=0;A<o.length;A++)n=o[A].querySelector(".anchorjs-link"),n&&(e=this.elements.indexOf(o[A]),-1!==e&&this.elements.splice(e,1),o[A].removeChild(n));return this},this.removeAll=function(){this.remove(this.elements)},this.urlify=function(t){var i,n=/[& +$,:;=?@"#{}|^~[`%!'\]\.\/\(\)\*\\]/g;return this.options.truncate||e(this.options),i=t.trim().replace(/\'/gi,"").replace(n,"-").replace(/-{2,}/g,"-").substring(0,this.options.truncate).replace(/^-+|-+$/gm,"").toLowerCase()},this.hasAnchorJSLink=function(t){var e=(" "+t.firstChild.className+" ").indexOf(" anchorjs-link ")>-1,i=(" "+t.lastChild.className+" ").indexOf(" anchorjs-link ")>-1;return e||i}}function initSearch(){getParameterByName("terms")&&(q=decodeURIComponent(getParameterByName("terms")),$searchInput.val(q),execSearch(q))}function execSearch(t){(""!=t||allowEmpty)&&(showLoader&&toggleLoadingClass(),getSearchResults(processData()))}function toggleLoadingClass(){$resultsPlaceholder.toggleClass(loadingClass),$foundContainer.toggleClass(loadingClass)}function getSearchResults(t){$.get(jsonFeedUrl,t,"json")}function processData(){return $results=[],function(t){var e=0,i="";$.each(t,function(t,n){if(n.content.toLowerCase().indexOf(q.toLowerCase())>-1||n.title.toLowerCase().indexOf(q.toLowerCase())>-1){var o=populateResultContent($resultTemplate.html(),n);e++,i+=o}}),showLoader&&toggleLoadingClass(),populateResultsString(e),showSearchResults(i)}}function showSearchResults(t){$resultsPlaceholder.html(t)}function populateResultContent(t,e){return t=injectContent(t,e.title,"##Title##"),t=injectContent(t,e.url,"##Url##"),t=injectContent(t,e.excerpt,"##Excerpt##"),t=injectContent(t,e.shortdate,"##Date##")}function populateResultsString(t){$foundTerm.text(q),$foundCount.text(t),$foundContainer.show()}function getParameterByName(t){var e=RegExp("[?&]"+t+"=([^&]*)").exec(window.location.search);return e&&decodeURIComponent(e[1].replace(/\+/g," "))}function injectContent(t,e,i){var n=new RegExp(i,"g");return t.replace(n,e)}!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.lightbox=e(t.jQuery)}(this,function(t){function e(e){this.album=[],this.currentImageIndex=void 0,this.init(),this.options=t.extend({},this.constructor.defaults),this.option(e)}return e.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:500,fitImagesInViewport:!0,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1},e.prototype.option=function(e){t.extend(this.options,e)},e.prototype.imageCountLabel=function(t,e){return this.options.albumLabel.replace(/%1/g,t).replace(/%2/g,e)},e.prototype.init=function(){this.enable(),this.build()},e.prototype.enable=function(){var e=this;t("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(i){return e.start(t(i.currentTarget)),!1})},e.prototype.build=function(){var e=this;t('<div id="lightboxOverlay" class="lightboxOverlay"></div><div id="lightbox" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" /><div class="lb-nav"><a class="lb-prev" href="" ></a><a class="lb-next" href="" ></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div>').appendTo(t("body")),this.$lightbox=t("#lightbox"),this.$overlay=t("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.containerTopPadding=parseInt(this.$container.css("padding-top"),10),this.containerRightPadding=parseInt(this.$container.css("padding-right"),10),this.containerBottomPadding=parseInt(this.$container.css("padding-bottom"),10),this.containerLeftPadding=parseInt(this.$container.css("padding-left"),10),this.$overlay.hide().on("click",function(){return e.end(),!1}),this.$lightbox.hide().on("click",function(i){return"lightbox"===t(i.target).attr("id")&&e.end(),!1}),this.$outerContainer.on("click",function(i){return"lightbox"===t(i.target).attr("id")&&e.end(),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return 0===e.currentImageIndex?e.changeImage(e.album.length-1):e.changeImage(e.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return e.currentImageIndex===e.album.length-1?e.changeImage(0):e.changeImage(e.currentImageIndex+1),!1}),this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return e.end(),!1})},e.prototype.start=function(e){function i(t){n.album.push({link:t.attr("href"),title:t.attr("data-title")||t.attr("title")})}var n=this,o=t(window);o.on("resize",t.proxy(this.sizeOverlay,this)),t("select, object, embed").css({visibility:"hidden"}),this.sizeOverlay(),this.album=[];var A,a=0,s=e.attr("data-lightbox");if(s){A=t(e.prop("tagName")+'[data-lightbox="'+s+'"]');for(var r=0;r<A.length;r=++r)i(t(A[r])),A[r]===e[0]&&(a=r)}else if("lightbox"===e.attr("rel"))i(e);else{A=t(e.prop("tagName")+'[rel="'+e.attr("rel")+'"]');for(var l=0;l<A.length;l=++l)i(t(A[l])),A[l]===e[0]&&(a=l)}var h=o.scrollTop()+this.options.positionFromTop,c=o.scrollLeft();this.$lightbox.css({top:h+"px",left:c+"px"}).fadeIn(this.options.fadeDuration),this.options.disableScrolling&&t("body").addClass("lb-disable-scrolling"),this.changeImage(a)},e.prototype.changeImage=function(e){var i=this;this.disableKeyboardNav();var n=this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration),t(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var o=new Image;o.onload=function(){var A,a,s,r,l,h,c;n.attr("src",i.album[e].link),A=t(o),n.width(o.width),n.height(o.height),i.options.fitImagesInViewport&&(c=t(window).width(),h=t(window).height(),l=c-i.containerLeftPadding-i.containerRightPadding-20,r=h-i.containerTopPadding-i.containerBottomPadding-120,i.options.maxWidth&&i.options.maxWidth<l&&(l=i.options.maxWidth),i.options.maxHeight&&i.options.maxHeight<l&&(r=i.options.maxHeight),(o.width>l||o.height>r)&&(o.width/l>o.height/r?(s=l,a=parseInt(o.height/(o.width/s),10),n.width(s),n.height(a)):(a=r,s=parseInt(o.width/(o.height/a),10),n.width(s),n.height(a)))),i.sizeContainer(n.width(),n.height())},o.src=this.album[e].link,this.currentImageIndex=e},e.prototype.sizeOverlay=function(){this.$overlay.width(t(document).width()).height(t(document).height())},e.prototype.sizeContainer=function(t,e){function i(){n.$lightbox.find(".lb-dataContainer").width(a),n.$lightbox.find(".lb-prevLink").height(s),n.$lightbox.find(".lb-nextLink").height(s),n.showImage()}var n=this,o=this.$outerContainer.outerWidth(),A=this.$outerContainer.outerHeight(),a=t+this.containerLeftPadding+this.containerRightPadding,s=e+this.containerTopPadding+this.containerBottomPadding;o!==a||A!==s?this.$outerContainer.animate({width:a,height:s},this.options.resizeDuration,"swing",function(){i()}):i()},e.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide(),this.$lightbox.find(".lb-image").fadeIn("slow"),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},e.prototype.updateNav=function(){var t=!1;try{document.createEvent("TouchEvent"),t=!!this.options.alwaysShowNavOnTouchDevices}catch(e){}this.$lightbox.find(".lb-nav").show(),this.album.length>1&&(this.options.wrapAround?(t&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),t&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),t&&this.$lightbox.find(".lb-next").css("opacity","1"))))},e.prototype.updateDetails=function(){var e=this;if("undefined"!=typeof this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title&&this.$lightbox.find(".lb-caption").html(this.album[this.currentImageIndex].title).fadeIn("fast").find("a").on("click",function(e){void 0!==t(this).attr("target")?window.open(t(this).attr("href"),t(this).attr("target")):location.href=t(this).attr("href")}),this.album.length>1&&this.options.showImageNumberLabel){var i=this.imageCountLabel(this.currentImageIndex+1,this.album.length);this.$lightbox.find(".lb-number").text(i).fadeIn("fast")}else this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return e.sizeOverlay()})},e.prototype.preloadNeighboringImages=function(){if(this.album.length>this.currentImageIndex+1){var t=new Image;t.src=this.album[this.currentImageIndex+1].link}if(this.currentImageIndex>0){var e=new Image;e.src=this.album[this.currentImageIndex-1].link}},e.prototype.enableKeyboardNav=function(){t(document).on("keyup.keyboard",t.proxy(this.keyboardAction,this))},e.prototype.disableKeyboardNav=function(){t(document).off(".keyboard")},e.prototype.keyboardAction=function(t){var e=27,i=37,n=39,o=t.keyCode,A=String.fromCharCode(o).toLowerCase();o===e||A.match(/x|o|c/)?this.end():"p"===A||o===i?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):("n"===A||o===n)&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))},e.prototype.end=function(){this.disableKeyboardNav(),t(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),t("select, object, embed").css({visibility:"visible"}),this.options.disableScrolling&&t("body").removeClass("lb-disable-scrolling")},new e});var anchors=new AnchorJS,notepad=function(t){var e=".notepad-mobile-menu a",i=".notepad-mobile-close-btn",n=".notepad-menu",o=".notepad-post-title-wrapper",A="#post-image-feature",a=function(){t(n).length&&(t(e).on("click",function(e){e.preventDefault(),t(n).addClass("opened")}),t(i).on("click",function(e){e.preventDefault(),t(n).removeClass("opened")}))},s=function(){t(o).length&&t(A).length&&BackgroundCheck.init({targets:o,images:A})},r=function(){var e=t(A);if(e.length){var i=e.attr("src");t(".notepad-post-title-wrapper").css("background-image",'url("'+i+'")').css("min-height",e.height()).addClass("has-image"),e.hide()}},l=function(){r(),a(),s()};return{init:l}}(jQuery);!function(){notepad.init()}();var q,jsonFeedUrl="/search.json",$searchInput=$("#search-terms"),$resultTemplate=$("#search-result"),$resultsPlaceholder=$("[data-search-results]"),$foundContainer=$("[data-search-found]"),$foundTerm=$("[data-search-found-term]"),$foundCount=$("[data-search-found-count]"),allowEmpty=!0,showLoader=!0,loadingClass="is--loading";$(document).ready(function(){$foundContainer.hide(),initSearch()}),"function"!=typeof Object.create&&(Object.create=function(t){"use strict";function e(){}return e.prototype=t,new e}),function(t){"use strict";var e={$elem:null,options:{ignoreCls:"",listCnt:"",listCls:"footnote-links",noteCls:"footnote",deploy:!0},init:function(e,i){var n;return this.options=t.extend({},this.options,e),this.$elem=t(i),this.options.deploy===!0&&this.appendStyles(),n=this.getLinks(),n=this.processLinks(n),this.buildList(n),this},getLinks:function(){var e=t("a[href]",this.$elem);return this.options.ignoreCls&&("."!==this.options.ignoreCls[0]&&(this.options.ignoreCls="."+this.options.ignoreCls),e=e.not(this.options.ignoreCls)),e=e.not('[data-lightbox^="image"], .anchorjs-link')},processLinks:function(e){var i=this,n={},o=0;return e.each(function(e,A){var a=t(this),s=a.attr("href"),r=document.location,l=r.protocol+"//"+r.hostname;s.match(/^[a-zA-Z]+:\/\//gi)||("/"!==s[0]&&(l+=r.pathname),s=l+s),n[s]||(o+=1,n[s]=o),t('<sup class="'+i.options.noteCls+'">'+n[s]+"</sup>").insertAfter(this)}),n},buildList:function(e){var i=t('<div class="'+this.options.listCls+'"><h2>Links</h2></div>'),n=t("<ol></ol>").appendTo(i);t.each(e,function(e,i){t("<li>"+e+"</li>").appendTo(n)}),this.options.listCnt||(this.options.listCnt=this.$elem.last()),i.appendTo(this.options.listCnt)},appendStyles:function(){t("head").append('<style type="text/css">@media all {.'+this.options.noteCls+",."+this.options.listCls+"{display: none;}}@media print {."+this.options.noteCls+",."+this.options.listCls+"{display: inline;}}</style>")}};t.fn.footnoteLinks=function(i){if(this.length){var n=Object.create(e);n.init(i,this),t.data(this,"footnote-links",n)}}}(jQuery),function(t){var e=0;t(".article-body img").not(".notepad-post-author-avatar").each(function(){var i=t(this);e++;var n=i.attr("src"),o=i.attr("alt"),A='<a href="'+n+'" data-lightbox="image-'+e+'" data-title="'+o+'"></a>';i.wrap(A)})}(jQuery),anchors.options={placement:"left"},anchors.add(".notepad-post-content h2, .notepad-post-content h3, .notepad-post-content h4, .notepad-post-content h5, .notepad-post-content h6"),$(function(){$("blockquote cite").each(function(){$(this).closest("blockquote").addClass("has-cite")}),$("span.pullquote").each(function(){var t=$(this).closest("p");t.addClass("pulledquoteparent"),$(this).clone().addClass("pulledquote").prependTo(t)}),$("span.pulledquote").each(function(t){var e=t%2==1?"even":"odd";$(this).replaceWith('<div class="pulledquote '+e+'"><blockquote>'+$(this).text()+"</blockquote></div>")})});